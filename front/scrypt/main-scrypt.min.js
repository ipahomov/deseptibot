function update(e){var n=tree.nodes(root),a=tree.links(n);n.forEach(function(e){e.y=130*e.depth});var t=svg.selectAll("g.node").data(n,function(e){return e.id||(e.id=++i)}),r=t.enter().append("g").attr("class","node").attr("transform",function(e){return"rotate("+(e.x-90)+")translate("+e.y+")"}).on("click",click);r.append("circle").attr("r",1e-6).style("fill",function(e){return e._children?"lightsteelblue":"#fff"}),r.append("text").attr("x",10).attr("dy",".35em").attr("text-anchor","start").text(function(e){return e.name}).style("fill-opacity",1e-6);var m=t.transition().duration(duration).attr("transform",function(e){return"rotate("+(e.x-90)+")translate("+e.y+")"});m.select("circle").attr("r",4.5).style("fill",function(e){return e._children?"lightsteelblue":"#fff"}),m.select("text").style("fill-opacity",1).attr("transform",function(e){return e.x<180?"translate(0)":"rotate(180)translate(-"+(e.name.length+50)+")"});var l=t.exit().transition().duration(duration).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6);var d=svg.selectAll("path.link").data(a,function(e){return e.target.id});d.enter().insert("path","g").attr("class","link").attr("d",function(){var a={x:e.x0,y:e.y0};return diagonal({source:a,target:a})}),d.transition().duration(duration).attr("d",diagonal),d.exit().transition().duration(duration).attr("d",function(){var a={x:e.x,y:e.y};return diagonal({source:a,target:a})}).remove(),n.forEach(function(e){e.x0=e.x,e.y0=e.y})}function click(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),update(e)}function collapse(e){e.children&&(e._children=e.children,e._children.forEach(collapse),e.children=null)}var pubs={name:"DESEPTIBOT",children:[{name:"BITTREX",children:[{name:"BTC",children:[{name:"ETH"},{name:"LTC"},{name:"EOS"},{name:"IOTA"},{name:"ETC"},{name:"XRP"},{name:"DASH"},{name:"OMG"},{name:"XMR"},{name:"ZEC"},{name:"SAN"},{name:"BCU"},{name:"BCC"},{name:"RRT"}]},{name:"ETH",children:[{name:"EOS"},{name:"IOTA"},{name:"OMG"},{name:"SAN"}]},{name:"USD",children:[{name:"EOS"},{name:"IOTA"},{name:"OMG"},{name:"SAN"},{name:"BTC"},{name:"ETH"},{name:"LTC"},{name:"ETC"},{name:"XRP"},{name:"DASH"},{name:"XMR"},{name:"ZEC"},{name:"BCU"},{name:"BCC"},{name:"RRT"}]}]},{name:"POLONIEX",children:[{name:"BTC",children:[{name:"AMP"},{name:"ARDR"},{name:"BCN"},{name:"BCY"},{name:"BELA"},{name:"BLK"},{name:"BTCD"},{name:"BTM"},{name:"BTS"},{name:"BURST"},{name:"CLAM"},{name:"DASH"},{name:"DCR"},{name:"DGB"},{name:"DOGE"},{name:"EMC2"},{name:"ETC"},{name:"ETH"},{name:"EXP"},{name:"FCT"},{name:"FLDC"},{name:"FLO"},{name:"GAME"},{name:"GNO"},{name:"GNT"},{name:"GRC"},{name:"HUC"},{name:"LBC"},{name:"LSK"},{name:"LTC"},{name:"MAID"},{name:"NAUT"},{name:"NAV"},{name:"NEOS"},{name:"NMC"},{name:"NOTE"},{name:"NXC"},{name:"NXT"},{name:"OMNI"},{name:"PASC"},{name:"POT"},{name:"PPC"},{name:"RADS"},{name:"REP"},{name:"RIC"},{name:"SBD"},{name:"SC"},{name:"SJCX"},{name:"STEEM"},{name:"STR"},{name:"STRAT"},{name:"SYS"},{name:"VIA"},{name:"VRC"},{name:"VTC"},{name:"XBC"},{name:"XCP"},{name:"XEM"},{name:"XMR"},{name:"XPM"},{name:"XRP"},{name:"XVC"},{name:"ZEC"}]},{name:"ETH",children:[{name:"ETC"},{name:"GNO"},{name:"GNT"},{name:"LSK"},{name:"REP"},{name:"STEEM"},{name:"ZEC"}]},{name:"XMR",children:[{name:"BCN"},{name:"BLK"},{name:"BTCD"},{name:"DASH"},{name:"LTC"},{name:"MAID"},{name:"NXT"},{name:"ZEC"}]},{name:"USDT",children:[{name:"BTC"},{name:"DASH"},{name:"ETC"},{name:"ETH"},{name:"LTC"},{name:"NXT"},{name:"REP"},{name:"STR"},{name:"XMR"},{name:"XRP"},{name:"ZEC"}]}]}]},diameter=1e3,margin={top:20,right:120,bottom:20,left:120},width=diameter,height=diameter,i=0,duration=350,root,tree=d3.layout.tree().size([360,diameter/2-80]).separation(function(e,n){return(e.parent==n.parent?1:10)/e.depth}),diagonal=d3.svg.diagonal.radial().projection(function(e){return[e.y,e.x/180*Math.PI]}),svg=d3.select("body").append("svg").attr("width",width).attr("height",height).append("g").attr("transform","translate("+diameter/2+","+diameter/2+")");root=pubs,root.x0=height/2,root.y0=0,update(root),d3.select(self.frameElement).style("height","1000px");